<?xml version="1.0" encoding="UTF-8"?>
<dashboard script="js/nist_dashboard.js" stylesheet="css/nist_dashboard.css">
  <label>NIST 800-53 Compliance Dashboard</label>
  <description>Monitor and report on NIST 800-53 security controls compliance</description>
  
  <row>
    <panel>
      <html>
        <div class="dashboard-header">
          <h2>NIST 800-53 Compliance Overview</h2>
          <div class="dashboard-filters">
            <label for="time-range">Time Range:</label>
            <select id="time-range" class="input-dropdown">
              <option value="24h">Last 24 Hours</option>
              <option value="7d" selected>Last 7 Days</option>
              <option value="30d">Last 30 Days</option>
              <option value="90d">Last 90 Days</option>
            </select>
            
            <label for="control-family">Control Family:</label>
            <select id="control-family" class="input-dropdown">
              <option value="all" selected>All Families</option>
              <!-- Control families will be populated by JavaScript -->
            </select>
          </div>
        </div>
      </html>
    </panel>
  </row>
  
  <row>
    <panel>
      <title>Overall Compliance Score</title>
      <html>
        <div id="compliance-score" class="metric-container"></div>
      </html>
    </panel>
    <panel>
      <title>Compliance by Status</title>
      <chart id="compliance-status-chart"></chart>
    </panel>
    <panel>
      <title>Risk Distribution</title>
      <chart id="risk-distribution-chart"></chart>
    </panel>
  </row>
  
  <row>
    <panel>
      <title>Compliance by Control Family</title>
      <chart id="family-compliance-chart"></chart>
    </panel>
  </row>
  
  <row>
    <panel>
      <title>Compliance Trend</title>
      <chart id="compliance-trend-chart"></chart>
    </panel>
  </row>
  
  <row>
    <panel>
      <title>Top Non-Compliant Controls</title>
      <table id="non-compliant-table"></table>
    </panel>
  </row>
  
  <row>
    <panel>
      <title>Control Details</title>
      <input type="dropdown" token="selected_control_family" searchWhenChanged="true">
        <label>Control Family</label>
        <choice value="*">All</choice>
        <choice value="AC">Access Control (AC)</choice>
        <choice value="AT">Awareness and Training (AT)</choice>
        <choice value="AU">Audit and Accountability (AU)</choice>
        <choice value="CA">Assessment, Authorization, and Monitoring (CA)</choice>
        <choice value="CM">Configuration Management (CM)</choice>
        <choice value="CP">Contingency Planning (CP)</choice>
        <choice value="IA">Identification and Authentication (IA)</choice>
        <choice value="IR">Incident Response (IR)</choice>
        <choice value="MA">Maintenance (MA)</choice>
        <choice value="MP">Media Protection (MP)</choice>
        <choice value="PE">Physical and Environmental Protection (PE)</choice>
        <choice value="PL">Planning (PL)</choice>
        <choice value="PM">Program Management (PM)</choice>
        <choice value="PS">Personnel Security (PS)</choice>
        <choice value="RA">Risk Assessment (RA)</choice>
        <choice value="SA">System and Services Acquisition (SA)</choice>
        <choice value="SC">System and Communications Protection (SC)</choice>
        <choice value="SI">System and Information Integrity (SI)</choice>
      </input>
      <table id="control-details-table"></table>
    </panel>
  </row>
</dashboard>
